(function(e){var d=this;var f=function(i,h){d[i]=h};f("print",e.print);var b=function(i){if(i=="internals"){return e}var h=a.getCached(i);if(h){return h.exports}h=new a(i).load().cache();return h.exports};function a(h){this.id=h;this.filename=h+".js";this.exports={};this.loaded=false}a._cache={};a.prototype.cache=function(){a._cache[this.id]=this;return this};a.getCached=function(h){return a._cache[h]};a.prototype.load=function(){if(!this.loaded){var h=e.read(this.filename);var i=new Function(["exports","module","require"],h);i.call(this,this.exports,{id:this.id},b)}return this};a.prototype._loadNative=function(h){if(!this.loaded){var i=new Function(["exports","module","require"],h);i.call(this,this.exports,{id:this.id},b)}return this};for(id in e.natives){var g=e.natives[id];var c=a.getCached(id);if(c){return c.exports}new a(id)._loadNative(g).cache()}f("require",b)});